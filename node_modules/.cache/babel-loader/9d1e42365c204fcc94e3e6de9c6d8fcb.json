{"ast":null,"code":"import _asyncToGenerator from\"/Users/zibranshaikh/Downloads/scaffoldzoid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _regeneratorRuntime from\"/Users/zibranshaikh/Downloads/scaffoldzoid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(watchAddedProduct),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(AddedProductDetails),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(watchAllProducts),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(AllProductsDetails),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(watchSelectedProducts),_marked6=/*#__PURE__*/_regeneratorRuntime.mark(SelectedProductsDetails),_marked7=/*#__PURE__*/_regeneratorRuntime.mark(watchProductUpdate),_marked8=/*#__PURE__*/_regeneratorRuntime.mark(ProductUpdateDetails),_marked9=/*#__PURE__*/_regeneratorRuntime.mark(watchAddedProfile),_marked10=/*#__PURE__*/_regeneratorRuntime.mark(AddedProfileDetails),_marked11=/*#__PURE__*/_regeneratorRuntime.mark(watchSellerProfile),_marked12=/*#__PURE__*/_regeneratorRuntime.mark(SellerProfileDetails),_marked13=/*#__PURE__*/_regeneratorRuntime.mark(watchAllSellers),_marked14=/*#__PURE__*/_regeneratorRuntime.mark(AllSellersDetails),_marked15=/*#__PURE__*/_regeneratorRuntime.mark(rootSaga);import{all,call,fork,put,takeEvery}from'redux-saga/effects';import axios from\"axios\";import{NotificationManager}from'react-notifications';import{PRODUCT_ADD,ALL_PRODUCT,SELECTED_PRODUCT,PRODUCT_UPDATE,PROFILE,GET_PROFILE,ALL_SELLERS}from\"../actions\";import{productAddSuccess,productAddError,allProductsSuccess,allProductsError,getSelectedProductSuccess,getSelectedProductError,productUpdateSuccess,productUpdateError,profileAddedSuccess,profileAddedError,getProfileSuccess,getProfileError,allSellerSuccess,allSellerError}from\"./actions\";import{getCurrentUser}from'../../helpers/Utils';import{API_URL}from\"../../apiUrl\";export function watchAddedProduct(){return _regeneratorRuntime.wrap(function watchAddedProduct$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return takeEvery(PRODUCT_ADD,AddedProductDetails);case 2:case\"end\":return _context.stop();}}},_marked);}var AddedProductDetailsAsync=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){return _regeneratorRuntime.wrap(function _callee$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(\"\".concat(API_URL,\"/seller/product-add\"),data).then(function(product){/* console.log(\"added product\", product) */if(product.status===200){NotificationManager.success(product.data.message);}else if(product.status===206){NotificationManager.warning(product.data.message);}}).catch(function(error){return NotificationManager.warning(error);});case 2:case\"end\":return _context2.stop();}}},_callee);}));return function AddedProductDetailsAsync(_x){return _ref.apply(this,arguments);};}();function AddedProductDetails(_ref2){var payload,_payload$product,name,rate,user_id,data,addedproducts;return _regeneratorRuntime.wrap(function AddedProductDetails$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:payload=_ref2.payload;console.log(\"payload\",payload.product);_payload$product=payload.product,name=_payload$product.name,rate=_payload$product.rate;user_id=getCurrentUser().id;_context3.prev=4;data={user_id:user_id,name:name,rate:rate};_context3.next=8;return call(AddedProductDetailsAsync,data);case 8:addedproducts=_context3.sent;_context3.next=11;return put(productAddSuccess(addedproducts.data.data));case 11:_context3.next=17;break;case 13:_context3.prev=13;_context3.t0=_context3[\"catch\"](4);_context3.next=17;return put(productAddError(_context3.t0));case 17:case\"end\":return _context3.stop();}}},_marked2,null,[[4,13]]);}export function watchAllProducts(){return _regeneratorRuntime.wrap(function watchAllProducts$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return takeEvery(ALL_PRODUCT,AllProductsDetails);case 2:case\"end\":return _context4.stop();}}},_marked3);}function AllProductsDetails(_ref3){var payload,url,products;return _regeneratorRuntime.wrap(function AllProductsDetails$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:payload=_ref3.payload;_context5.prev=1;url=\"\".concat(API_URL,\"/seller/product/all/\").concat(payload.user_id);_context5.next=5;return call(function(){return axios.get(url);});case 5:products=_context5.sent;if(!(products.status===200)){_context5.next=11;break;}_context5.next=9;return put(allProductsSuccess(products.data.data));case 9:_context5.next=14;break;case 11:if(!(products.status===206)){_context5.next=14;break;}_context5.next=14;return put(allProductsError(products.data.message));case 14:_context5.next=19;break;case 16:_context5.prev=16;_context5.t0=_context5[\"catch\"](1);console.log(\"e\",_context5.t0);case 19:case\"end\":return _context5.stop();}}},_marked4,null,[[1,16]]);}export function watchSelectedProducts(){return _regeneratorRuntime.wrap(function watchSelectedProducts$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return takeEvery(SELECTED_PRODUCT,SelectedProductsDetails);case 2:case\"end\":return _context6.stop();}}},_marked5);}function SelectedProductsDetails(_ref4){var payload,url,product;return _regeneratorRuntime.wrap(function SelectedProductsDetails$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:payload=_ref4.payload;_context7.prev=1;url=\"\".concat(API_URL,\"/seller/product/\").concat(payload.id);_context7.next=5;return call(function(){return axios.get(url);});case 5:product=_context7.sent;if(!(product.status===200)){_context7.next=11;break;}_context7.next=9;return put(getSelectedProductSuccess(product.data.data));case 9:_context7.next=14;break;case 11:if(!(product.status===206)){_context7.next=14;break;}_context7.next=14;return put(getSelectedProductError(product.data.message));case 14:_context7.next=19;break;case 16:_context7.prev=16;_context7.t0=_context7[\"catch\"](1);console.log(\"e\",_context7.t0);case 19:case\"end\":return _context7.stop();}}},_marked6,null,[[1,16]]);}export function watchProductUpdate(){return _regeneratorRuntime.wrap(function watchProductUpdate$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return takeEvery(PRODUCT_UPDATE,ProductUpdateDetails);case 2:case\"end\":return _context8.stop();}}},_marked7);}var ProductUpdateDetailsAsync=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){return _regeneratorRuntime.wrap(function _callee2$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:console.log(\"data update\",data);_context9.next=3;return axios.put(\"\".concat(API_URL,\"/seller/product-update\"),data).then(function(product){/* console.log(\"product updated\", product) */if(product.status===200){NotificationManager.success(product.data.message);}else if(product.status===206){NotificationManager.warning(product.data.message);}}).catch(function(error){return NotificationManager.warning(error);});case 3:case\"end\":return _context9.stop();}}},_callee2);}));return function ProductUpdateDetailsAsync(_x2){return _ref5.apply(this,arguments);};}();function ProductUpdateDetails(_ref6){var payload,_payload$product2,id,user_id,name,rate,data,updatedProduct;return _regeneratorRuntime.wrap(function ProductUpdateDetails$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:payload=_ref6.payload;_payload$product2=payload.product,id=_payload$product2.id,user_id=_payload$product2.user_id,name=_payload$product2.name,rate=_payload$product2.rate;_context10.prev=2;data={id:id,user_id:user_id,name:name,rate:rate};_context10.next=6;return call(ProductUpdateDetailsAsync,data);case 6:updatedProduct=_context10.sent;_context10.next=9;return put(productUpdateSuccess(updatedProduct.data.data));case 9:_context10.next=15;break;case 11:_context10.prev=11;_context10.t0=_context10[\"catch\"](2);_context10.next=15;return put(productUpdateError(_context10.t0));case 15:case\"end\":return _context10.stop();}}},_marked8,null,[[2,11]]);}export function watchAddedProfile(){return _regeneratorRuntime.wrap(function watchAddedProfile$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return takeEvery(PROFILE,AddedProfileDetails);case 2:case\"end\":return _context11.stop();}}},_marked9);}var AddedProfileDetailsAsync=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(data){return _regeneratorRuntime.wrap(function _callee3$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return axios.post(\"\".concat(API_URL,\"/seller/profile\"),data).then(function(profile){/*  console.log(\"added profile\", profile) */if(profile.status===200){put(profileAddedSuccess(profile.data.data));NotificationManager.success(profile.data.message);}else if(profile.status===206){put(profileAddedError(profile.data.message));NotificationManager.warning(profile.data.message);}}).catch(function(error){return NotificationManager.warning(error);});case 2:case\"end\":return _context12.stop();}}},_callee3);}));return function AddedProfileDetailsAsync(_x3){return _ref7.apply(this,arguments);};}();function AddedProfileDetails(_ref8){var payload,_payload$profile,description,picture,user_id,data;return _regeneratorRuntime.wrap(function AddedProfileDetails$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:payload=_ref8.payload;/*     console.log(\"payload\", payload.profile) */_payload$profile=payload.profile,description=_payload$profile.description,picture=_payload$profile.picture;user_id=getCurrentUser().id;data={user_id:user_id,description:description,picture:picture};_context13.next=6;return call(AddedProfileDetailsAsync,data);case 6:case\"end\":return _context13.stop();}}},_marked10);}export function watchSellerProfile(){return _regeneratorRuntime.wrap(function watchSellerProfile$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return takeEvery(GET_PROFILE,SellerProfileDetails);case 2:case\"end\":return _context14.stop();}}},_marked11);}function SellerProfileDetails(_ref9){var payload,url,profile;return _regeneratorRuntime.wrap(function SellerProfileDetails$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:payload=_ref9.payload;_context15.prev=1;url=\"\".concat(API_URL,\"/seller/profile/\").concat(payload.user_id);_context15.next=5;return call(function(){return axios.get(url);});case 5:profile=_context15.sent;if(!(profile.status===200)){_context15.next=11;break;}_context15.next=9;return put(getProfileSuccess(profile.data.data));case 9:_context15.next=14;break;case 11:if(!(profile.status===206)){_context15.next=14;break;}_context15.next=14;return put(getProfileError(profile.data.message));case 14:_context15.next=19;break;case 16:_context15.prev=16;_context15.t0=_context15[\"catch\"](1);console.log(\"e\",_context15.t0);case 19:case\"end\":return _context15.stop();}}},_marked12,null,[[1,16]]);}export function watchAllSellers(){return _regeneratorRuntime.wrap(function watchAllSellers$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_context16.next=2;return takeEvery(ALL_SELLERS,AllSellersDetails);case 2:case\"end\":return _context16.stop();}}},_marked13);}function AllSellersDetails(_ref10){var payload,url,seller;return _regeneratorRuntime.wrap(function AllSellersDetails$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:payload=_ref10.payload;_context17.prev=1;url=\"\".concat(API_URL,\"/buyer/all-sellers\");_context17.next=5;return call(function(){return axios.get(url);});case 5:seller=_context17.sent;if(!(seller.status===200)){_context17.next=11;break;}_context17.next=9;return put(allSellerSuccess(seller.data.data));case 9:_context17.next=14;break;case 11:if(!(seller.status===206)){_context17.next=14;break;}_context17.next=14;return put(allSellerError(seller.data.message));case 14:_context17.next=19;break;case 16:_context17.prev=16;_context17.t0=_context17[\"catch\"](1);console.log(\"e\",_context17.t0);case 19:case\"end\":return _context17.stop();}}},_marked14,null,[[1,16]]);}export default function rootSaga(){return _regeneratorRuntime.wrap(function rootSaga$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_context18.next=2;return all([fork(watchAddedProduct),fork(watchAllProducts),fork(watchSelectedProducts),fork(watchProductUpdate),fork(watchAddedProfile),fork(watchSellerProfile),fork(watchAllSellers)]);case 2:case\"end\":return _context18.stop();}}},_marked15);}","map":{"version":3,"sources":["/Users/zibranshaikh/Downloads/scaffoldzoid/frontend/src/redux/product/saga.js"],"names":["watchAddedProduct","AddedProductDetails","watchAllProducts","AllProductsDetails","watchSelectedProducts","SelectedProductsDetails","watchProductUpdate","ProductUpdateDetails","watchAddedProfile","AddedProfileDetails","watchSellerProfile","SellerProfileDetails","watchAllSellers","AllSellersDetails","rootSaga","all","call","fork","put","takeEvery","axios","NotificationManager","PRODUCT_ADD","ALL_PRODUCT","SELECTED_PRODUCT","PRODUCT_UPDATE","PROFILE","GET_PROFILE","ALL_SELLERS","productAddSuccess","productAddError","allProductsSuccess","allProductsError","getSelectedProductSuccess","getSelectedProductError","productUpdateSuccess","productUpdateError","profileAddedSuccess","profileAddedError","getProfileSuccess","getProfileError","allSellerSuccess","allSellerError","getCurrentUser","API_URL","AddedProductDetailsAsync","data","post","then","product","status","success","message","warning","catch","error","payload","console","log","name","rate","user_id","id","addedproducts","url","get","products","ProductUpdateDetailsAsync","updatedProduct","AddedProfileDetailsAsync","profile","description","picture","seller"],"mappings":"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","sourcesContent":["import { all, call, fork, put, takeEvery } from 'redux-saga/effects';\nimport axios from \"axios\";\nimport { NotificationManager } from 'react-notifications';\n\nimport {\n    PRODUCT_ADD,\n    ALL_PRODUCT,\n    SELECTED_PRODUCT,\n    PRODUCT_UPDATE,\n    PROFILE,\n    GET_PROFILE,\n    ALL_SELLERS,\n    \n\n}\nfrom \"../actions\"\n\nimport {\n    productAddSuccess,\n    productAddError,\n    allProductsSuccess,\n    allProductsError,\n    getSelectedProductSuccess,\n    getSelectedProductError,\n    productUpdateSuccess,\n    productUpdateError,\n    profileAddedSuccess,\n    profileAddedError,\n    getProfileSuccess,\n    getProfileError,\n    allSellerSuccess,\n    allSellerError\n}\n    from \"./actions\"\n\nimport { getCurrentUser } from '../../helpers/Utils';\nimport { API_URL } from \"../../apiUrl\"\n\n\nexport function* watchAddedProduct() {\n    yield takeEvery(PRODUCT_ADD, AddedProductDetails);\n}\n\nconst AddedProductDetailsAsync = async (data) => {\n\n    await axios.post(`${API_URL}/seller/product-add`, data)\n\n        .then((product) => {\n            /* console.log(\"added product\", product) */\n            if (product.status === 200) {\n\n                NotificationManager.success(product.data.message);\n\n            } else if (product.status === 206) {\n\n                NotificationManager.warning(product.data.message);\n            }\n        })\n        .catch((error) => NotificationManager.warning(error));\n}\n\n\n\n\n\nfunction* AddedProductDetails({ payload }) {\n    console.log(\"payload\", payload.product)\n    const {\n        name,\n        rate,\n\n    } = payload.product\n\n\n    const user_id = getCurrentUser().id\n\n    try {\n        const data = {\n            user_id, name, rate\n        }\n\n        const addedproducts = yield call(AddedProductDetailsAsync, data);\n\n\n        /* console.log(\"addedproducts\", addedproducts) */\n        yield put(productAddSuccess(addedproducts.data.data));\n    } catch (e) {\n        yield put(productAddError(e))\n        /* console.log(\"e\", e) */\n    }\n\n}\n\nexport function* watchAllProducts() {\n\n    yield takeEvery(ALL_PRODUCT, AllProductsDetails);\n}\n\n\nfunction* AllProductsDetails({ payload }) {\n    try {\n        const url = `${API_URL}/seller/product/all/${payload.user_id}`;\n        const products = yield call(() => axios.get(url))\n\n        /* console.log(products, \"response\"); */\n        if (products.status === 200) {\n\n            yield put(allProductsSuccess(products.data.data))\n\n\n\n        } else if (products.status === 206) {\n            yield put(allProductsError(products.data.message))\n\n        }\n\n    }\n    catch (e) {\n        console.log(\"e\", e)\n\n    }\n\n}\n\n\n\n\n\nexport function* watchSelectedProducts() {\n\n    yield takeEvery(SELECTED_PRODUCT, SelectedProductsDetails);\n}\n\n\nfunction* SelectedProductsDetails({ payload }) {\n\n    try {\n        const url = `${API_URL}/seller/product/${payload.id}`;\n        const product = yield call(() => axios.get(url))\n\n        /* console.log(product, \"selected product\"); */\n        if (product.status === 200) {\n\n            yield put(getSelectedProductSuccess(product.data.data))\n\n\n\n        } else if (product.status === 206) {\n            yield put(getSelectedProductError(product.data.message))\n\n        }\n\n    }\n    catch (e) {\n        console.log(\"e\", e)\n\n    }\n\n}\n\nexport function* watchProductUpdate() {\n    yield takeEvery(PRODUCT_UPDATE, ProductUpdateDetails);\n}\n\nconst ProductUpdateDetailsAsync = async (data) => {\n    console.log(\"data update\", data)\n    await axios.put(`${API_URL}/seller/product-update`, data)\n\n        .then((product) => {\n            /* console.log(\"product updated\", product) */\n            if (product.status === 200) {\n\n                NotificationManager.success(product.data.message);\n\n            } else if (product.status === 206) {\n\n                NotificationManager.warning(product.data.message);\n            }\n        })\n        .catch((error) => NotificationManager.warning(error));\n}\n\n\n\n\n\nfunction* ProductUpdateDetails({ payload }) {\n\n    const {\n        id,\n        user_id,\n        name,\n        rate,\n\n    } = payload.product\n\n    try {\n        const data = {\n            id, user_id, name, rate\n        }\n\n        const updatedProduct = yield call(ProductUpdateDetailsAsync, data);\n\n\n        /* console.log(\"updated data\", updatedProduct) */\n        yield put(productUpdateSuccess(updatedProduct.data.data));\n    } catch (e) {\n        yield put(productUpdateError(e))\n\n    }\n\n}\n\n\nexport function* watchAddedProfile() {\n    yield takeEvery(PROFILE, AddedProfileDetails);\n}\n\nconst AddedProfileDetailsAsync = async (data) => {\n\n    await axios.post(`${API_URL}/seller/profile`, data)\n\n        .then((profile) => {\n           /*  console.log(\"added profile\", profile) */\n            if (profile.status === 200) {\n                put(profileAddedSuccess(profile.data.data));\n                NotificationManager.success(profile.data.message);\n\n            } else if (profile.status === 206) {\n                put(profileAddedError(profile.data.message))\n                NotificationManager.warning(profile.data.message)\n            }\n        })\n        .catch((error) => NotificationManager.warning(error));\n}\n\n\n\n\n\nfunction* AddedProfileDetails({ payload }) {\n/*     console.log(\"payload\", payload.profile) */\n    const {\n        description, picture\n\n    } = payload.profile\n    const user_id = getCurrentUser().id\n    const data = {\n        user_id, description, picture\n    }\n    yield call(AddedProfileDetailsAsync, data);\n\n}\n\n\nexport function* watchSellerProfile() {\n\n    yield takeEvery(GET_PROFILE, SellerProfileDetails);\n}\n\n\nfunction* SellerProfileDetails({ payload }) {\n    try {\n        const url = `${API_URL}/seller/profile/${payload.user_id}`;\n        const profile = yield call(() => axios.get(url))\n\n       /*  console.log(profile, \"response\"); */\n        if (profile.status === 200) {\n\n            yield put(getProfileSuccess(profile.data.data))\n\n\n\n        } else if (profile.status === 206) {\n            yield put(getProfileError(profile.data.message))\n\n        }\n\n    }\n    catch (e) {\n        console.log(\"e\", e)\n\n    }\n\n}\n\n\nexport function* watchAllSellers() {\n\n    yield takeEvery(ALL_SELLERS, AllSellersDetails);\n}\n\n\nfunction* AllSellersDetails({ payload }) {\n    try {\n        const url = `${API_URL}/buyer/all-sellers`;\n        const seller = yield call(() => axios.get(url))\n\n       /*  console.log(seller, \"response\"); */\n        if (seller.status === 200) {\n\n            yield put(allSellerSuccess(seller.data.data))\n\n\n\n        } else if (seller.status === 206) {\n            yield put(allSellerError(seller.data.message))\n\n        }\n\n    }\n    catch (e) {\n        console.log(\"e\", e)\n\n    }\n\n}\n\n\n\n\n\nexport default function* rootSaga() {\n    yield all([\n        fork(watchAddedProduct),\n        fork(watchAllProducts),\n        fork(watchSelectedProducts),\n        fork(watchProductUpdate),\n        fork(watchAddedProfile),\n        fork(watchSellerProfile),\n        fork(watchAllSellers)\n\n    ]);\n}\n"]},"metadata":{},"sourceType":"module"}