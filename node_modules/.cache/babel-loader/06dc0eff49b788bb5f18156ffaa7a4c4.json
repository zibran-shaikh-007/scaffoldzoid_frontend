{"ast":null,"code":"import React,{useEffect}from'react';import{connect}from\"react-redux\";import DropzoneComponent from'react-dropzone-component';import axios from'axios';import*as Yup from'yup';import{Formik,Form,Field}from'formik';import{Container,Row,Col,Card,CardBody,FormGroup,Label,Button}from'reactstrap';import{getCurrentUser}from'../../helpers/Utils';import{NotificationManager}from'react-notifications';import{profileAdded,getProfile}from\"../../redux/product/actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ReactDOMServer=require('react-dom/server');var dropzoneComponentConfig={iconFiletypes:['.jpg','.png','.gif'],postUrl:'https://httpbin.org/post'};var dropzoneConfig={acceptedFiles:\"image/jpeg,image/png,image/gif\",thumbnailHeight:160,autoProcessQueue:true,maxFiles:1,maxFilesize:2,previewTemplate:ReactDOMServer.renderToStaticMarkup(/*#__PURE__*/_jsxs(\"div\",{className:\"dz-preview dz-file-preview mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-0 w-30 position-relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dz-error-mark\",children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{}),' ']})}),/*#__PURE__*/_jsx(\"div\",{className:\"dz-success-mark\",children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"i\",{})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"preview-container\",children:[/*#__PURE__*/_jsx(\"img\",{\"data-dz-thumbnail\":true,className:\"img-thumbnail border-0\"}),/*#__PURE__*/_jsx(\"i\",{className:\"simple-icon-doc preview-icon\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pl-3 pt-2 pr-2 pb-1 w-70 dz-details position-relative\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[' ',/*#__PURE__*/_jsx(\"span\",{\"data-dz-name\":true}),' ']}),/*#__PURE__*/_jsx(\"div\",{className:\"text-primary text-extra-small\",\"data-dz-size\":true}),/*#__PURE__*/_jsx(\"div\",{className:\"dz-progress\",children:/*#__PURE__*/_jsx(\"span\",{className:\"dz-upload\",\"data-dz-uploadprogress\":true})}),/*#__PURE__*/_jsx(\"div\",{className:\"dz-error-message\",children:/*#__PURE__*/_jsx(\"span\",{\"data-dz-errormessage\":true})})]})]}),/*#__PURE__*/_jsxs(\"a\",{href:\"#/\",className:\"remove\",\"data-dz-remove\":true,children:[' ',/*#__PURE__*/_jsx(\"i\",{className:\"glyph-icon simple-icon-trash\"}),' ']})]})),headers:{'My-Awesome-Header':'header value'}};var Profile=function Profile(_ref){var profileAddedAction=_ref.profileAddedAction,getProfileAction=_ref.getProfileAction,addedProfile=_ref.addedProfile,history=_ref.history;var getSellerProfile=function getSellerProfile(){var user_id=getCurrentUser().id;getProfileAction(user_id,history);};useEffect(function(){getSellerProfile();},[]);var initialValues={username:getCurrentUser().username,email:getCurrentUser().email,description:\"\",picture:[]};var onSubmit=function onSubmit(values,_ref2){var resetForm=_ref2.resetForm,setSubmitting=_ref2.setSubmitting;if(values.picture.length===0){NotificationManager.warning(\"Please enter your profile picture\");}else{/*  setTimeout(() => {\n                alert(JSON.stringify(payload, null, 2));\n                resetForm()\n                setSubmitting(false);\n            }, 1000); */profileAddedAction(values,history);resetForm();setSubmitting(false);window.location.reload();}};var eventHandlers={addedfiles:function addedfiles(files){var images=[];for(var i=0;i<files.length;i++){images.push(files[i]);/* console.log(\"images\", files[i]) */}images.forEach(function(img){var formData=new FormData();formData.append(\"file\",img);formData.append('upload_preset','lyxrkznz');return axios.post(\"https://api.cloudinary.com/v1_1/dx6zgsncl/upload\",formData).then(function(res){initialValues.picture.push(res.data.secure_url);}).catch(function(err){return console.log(err);});});}};var SignupSchema=Yup.object().shape({description:Yup.string().min(10,'Too Short!').max(50,'Too Long!').required('Please enter profile description')});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{className:\"mb-4 d-flex justify-content-center align-items-center\",style:{marginTop:\"200px\"},children:/*#__PURE__*/_jsx(Col,{xxs:\"12\",md:\"6\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Formik,{initialValues:initialValues/* enableReinitialize={true} */,validationSchema:SignupSchema,onSubmit:onSubmit,children:function children(_ref3){var handleSubmit=_ref3.handleSubmit,setFieldValue=_ref3.setFieldValue,setFieldTouched=_ref3.setFieldTouched,handleChange=_ref3.handleChange,handleBlur=_ref3.handleBlur,values=_ref3.values,errors=_ref3.errors,touched=_ref3.touched,isSubmitting=_ref3.isSubmitting,onValueChange=_ref3.onValueChange;return/*#__PURE__*/_jsxs(Form,{className:\"av-tooltip tooltip-label-bottom\",children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xxs:\"12\",className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"img\",{className:\"rounded-circle\",src:addedProfile?addedProfile.picture:\"https://res.cloudinary.com/uploadfiles/image/upload/v1617046740/istockphoto-185284489-612x612_fboind.jpg\",width:\"200\",height:\"200\",alt:\"profile picture\",style:{position:\"absolute\",bottom:\"-20px\"}})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xxs:\"12\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\"form-group has-float-label\",children:[/*#__PURE__*/_jsx(Label,{children:/*#__PURE__*/_jsx(\"span\",{children:\"Name\"})}),/*#__PURE__*/_jsx(Field,{className:\"form-control\",name:\"username\",value:values.username,disabled:true})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xxs:\"12\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\"form-group has-float-label\",children:[/*#__PURE__*/_jsx(Label,{children:/*#__PURE__*/_jsx(\"span\",{children:\"Email\"})}),/*#__PURE__*/_jsx(Field,{className:\"form-control\",name:\"email\",value:values.email,disabled:true})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xxs:\"12\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\"form-group has-float-label\",children:[/*#__PURE__*/_jsx(Label,{children:/*#__PURE__*/_jsx(\"span\",{children:\"Description\"})}),/*#__PURE__*/_jsx(Field,{className:\"form-control\",name:\"description\",component:\"textarea\",value:addedProfile?addedProfile.description:values.description}),errors.description&&touched.description?/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback d-block\",children:errors.description}):null]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xxs:\"12\",children:/*#__PURE__*/_jsx(DropzoneComponent,{name:\"picture\",config:dropzoneComponentConfig,djsConfig:dropzoneConfig,eventHandlers:eventHandlers,value:values.picture})})}),/*#__PURE__*/_jsx(Button,{color:\"primary\",type:\"submit\",className:\"mt-3\",children:isSubmitting?\"Submit\":\"Submit\"})]});}})})})})})})});};var mapStateToProps=function mapStateToProps(_ref4){var sellerProduct=_ref4.sellerProduct;var addedProfile=sellerProduct.addedProfile,loading=sellerProduct.loading;/* console.log(\"added profile ====>\", addedProfile) */return{addedProfile:addedProfile,loading:loading};};export default connect(mapStateToProps,{profileAddedAction:profileAdded,getProfileAction:getProfile})(Profile);","map":{"version":3,"sources":["/Users/zibranshaikh/Downloads/scaffoldzoid/frontend/src/pages/seller/profile.js"],"names":["React","useEffect","connect","DropzoneComponent","axios","Yup","Formik","Form","Field","Container","Row","Col","Card","CardBody","FormGroup","Label","Button","getCurrentUser","NotificationManager","profileAdded","getProfile","ReactDOMServer","require","dropzoneComponentConfig","iconFiletypes","postUrl","dropzoneConfig","acceptedFiles","thumbnailHeight","autoProcessQueue","maxFiles","maxFilesize","previewTemplate","renderToStaticMarkup","headers","Profile","profileAddedAction","getProfileAction","addedProfile","history","getSellerProfile","user_id","id","initialValues","username","email","description","picture","onSubmit","values","resetForm","setSubmitting","length","warning","window","location","reload","eventHandlers","addedfiles","files","images","i","push","forEach","img","formData","FormData","append","post","then","res","data","secure_url","catch","err","console","log","SignupSchema","object","shape","string","min","max","required","marginTop","handleSubmit","setFieldValue","setFieldTouched","handleChange","handleBlur","errors","touched","isSubmitting","onValueChange","position","bottom","mapStateToProps","sellerProduct","loading"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { connect } from \"react-redux\";\n\nimport DropzoneComponent from 'react-dropzone-component';\n\nimport axios from 'axios';\n\nimport * as Yup from 'yup';\nimport { Formik, Form, Field } from 'formik';\n\nimport {\n    Container,\n    Row,\n    Col,\n    Card,\n    CardBody,\n    FormGroup,\n    Label,\n    Button,\n\n} from 'reactstrap';\n\nimport { getCurrentUser } from '../../helpers/Utils';\nimport { NotificationManager } from 'react-notifications';\nimport { profileAdded, getProfile } from \"../../redux/product/actions\"\n\n\n\n\n\nconst ReactDOMServer = require('react-dom/server');\n\nconst dropzoneComponentConfig = {\n    iconFiletypes: ['.jpg', '.png', '.gif'],\n    postUrl: 'https://httpbin.org/post',\n};\nconst dropzoneConfig = {\n    acceptedFiles: \"image/jpeg,image/png,image/gif\",\n    thumbnailHeight: 160,\n    autoProcessQueue: true,\n    maxFiles: 1,\n    maxFilesize: 2,\n    previewTemplate: ReactDOMServer.renderToStaticMarkup(\n        <div className=\"dz-preview dz-file-preview mb-3\">\n            <div className=\"d-flex flex-row \">\n                <div className=\"p-0 w-30 position-relative\">\n                    <div className=\"dz-error-mark\">\n                        <span>\n                            <i />{' '}\n                        </span>\n                    </div>\n                    <div className=\"dz-success-mark\">\n                        <span>\n                            <i />\n                        </span>\n                    </div>\n                    <div className=\"preview-container\">\n                        {/*  eslint-disable-next-line jsx-a11y/alt-text */}\n                        <img data-dz-thumbnail className=\"img-thumbnail border-0\" />\n                        <i className=\"simple-icon-doc preview-icon\" />\n                    </div>\n                </div>\n                <div className=\"pl-3 pt-2 pr-2 pb-1 w-70 dz-details position-relative\">\n                    <div>\n                        {' '}\n                        <span data-dz-name />{' '}\n                    </div>\n                    <div className=\"text-primary text-extra-small\" data-dz-size />\n                    <div className=\"dz-progress\">\n                        <span className=\"dz-upload\" data-dz-uploadprogress />\n                    </div>\n                    <div className=\"dz-error-message\">\n                        <span data-dz-errormessage />\n                    </div>\n                </div>\n            </div>\n            <a href=\"#/\" className=\"remove\" data-dz-remove>\n                {' '}\n                <i className=\"glyph-icon simple-icon-trash\" />{' '}\n            </a>\n        </div>\n    ),\n    headers: { 'My-Awesome-Header': 'header value' },\n};\n\n\n\nconst Profile = ({ profileAddedAction, getProfileAction, addedProfile, history }) => {\n\n    const getSellerProfile = () => {\n        const user_id = getCurrentUser().id\n        getProfileAction(user_id, history)\n    }\n\n    useEffect(() => {\n        getSellerProfile()\n    }, [])\n\n   \n\n\n    const initialValues = {\n        username: getCurrentUser().username,\n        email: getCurrentUser().email,\n        description: \"\",\n        picture: [],\n\n\n    }\n\n\n\n    const onSubmit = (values, { resetForm, setSubmitting }) => {\n\n\n        if (values.picture.length === 0) {\n            NotificationManager.warning(\"Please enter your profile picture\");\n        } else {\n\n           /*  setTimeout(() => {\n                alert(JSON.stringify(payload, null, 2));\n                resetForm()\n                setSubmitting(false);\n            }, 1000); */\n            profileAddedAction(values, history)\n            resetForm()\n            setSubmitting(false);\n            window.location.reload();\n\n        }\n\n\n    };\n\n\n\n\n    const eventHandlers = {\n\n        addedfiles: (files) => {\n            let images = []\n\n            for (let i = 0; i < files.length; i++) {\n                images.push(files[i])\n\n                /* console.log(\"images\", files[i]) */\n            }\n\n            images.forEach((img) => {\n                const formData = new FormData()\n                formData.append(`file`, img)\n                formData.append('upload_preset', 'lyxrkznz');\n\n                return axios.post(\"https://api.cloudinary.com/v1_1/dx6zgsncl/upload\", formData)\n                    .then(res => {\n                        initialValues.picture.push(res.data.secure_url)\n\n\n                    })\n                    .catch(err => console.log(err))\n\n            })\n\n\n\n        }\n\n\n    }\n\n\n    const SignupSchema = Yup.object().shape({\n        description: Yup.string()\n            .min(10, 'Too Short!')\n            .max(50, 'Too Long!')\n            .required('Please enter profile description'),\n\n\n    });\n\n\n\n    return (\n\n\n        <>\n            <Container >\n                <Row className=\"mb-4 d-flex justify-content-center align-items-center\" style={{ marginTop: \"200px\" }}>\n                    <Col xxs=\"12\" md=\"6\">\n                        <Card>\n                            <CardBody>\n\n\n                                <Formik\n                                    initialValues={initialValues}\n                                    /* enableReinitialize={true} */\n                                    validationSchema={SignupSchema}\n                                    onSubmit={onSubmit}\n\n                                >\n                                    {({\n                                        handleSubmit,\n                                        setFieldValue,\n                                        setFieldTouched,\n                                        handleChange,\n                                        handleBlur,\n                                        values,\n                                        errors,\n                                        touched,\n                                        isSubmitting,\n                                        onValueChange,\n\n\n                                    }) => (\n\n                                        <Form className=\"av-tooltip tooltip-label-bottom\">\n                                            <Row>\n                                                <Col xxs=\"12\" className=\"d-flex justify-content-center\">\n                                                    <img className=\"rounded-circle\" src={addedProfile ? addedProfile.picture:\"https://res.cloudinary.com/uploadfiles/image/upload/v1617046740/istockphoto-185284489-612x612_fboind.jpg\"} width=\"200\" height=\"200\" alt=\"profile picture\" style={{ position: \"absolute\", bottom: \"-20px\" }} />\n                                                </Col>\n\n                                            </Row>\n\n                                            <Row>\n                                                <Col xxs=\"12\">\n                                                    <FormGroup className=\"form-group has-float-label\">\n                                                        <Label>\n                                                        <span>Name</span>\n                                                        </Label>\n                                                        <Field className=\"form-control\" name=\"username\" value={values.username} disabled={true} />\n\n\n                                                    </FormGroup>\n                                                </Col>\n\n                                            </Row>\n                                            <Row>\n                                                <Col xxs=\"12\">\n                                                    <FormGroup className=\"form-group has-float-label\">\n                                                        <Label>\n                                                        <span>Email</span>\n                                                        </Label>\n                                                        <Field className=\"form-control\" name=\"email\" value={values.email} disabled={true} />\n\n\n                                                    </FormGroup>\n                                                </Col>\n\n                                            </Row>\n                                            <Row>\n                                                <Col xxs=\"12\">\n                                                    <FormGroup className=\"form-group has-float-label\">\n                                                        <Label>\n                                                        <span>Description</span>\n                                                        </Label>\n                                                        <Field className=\"form-control\" name=\"description\" component=\"textarea\" value={addedProfile ? addedProfile.description:values.description} ></Field>\n\n                                                        {errors.description && touched.description ? (\n                                                            <div className=\"invalid-feedback d-block\">\n                                                                {errors.description}\n                                                            </div>\n                                                        ) : null}\n                                                    </FormGroup>\n                                                </Col>\n\n                                            </Row>\n                                            <Row>\n                                                <Col xxs=\"12\">\n                                                    <DropzoneComponent\n                                                        name=\"picture\"\n                                                        config={dropzoneComponentConfig}\n                                                        djsConfig={dropzoneConfig}\n                                                        eventHandlers={eventHandlers}\n                                                        value={values.picture}\n                                                    />\n\n                                                </Col>\n                                            </Row>\n\n                                            <Button color=\"primary\" type=\"submit\" className=\"mt-3\" >\n                                                {isSubmitting ? \"Submit\" : \"Submit\"}\n                                            </Button>\n                                        </Form>\n                                    )}\n                                </Formik>\n                            </CardBody>\n                        </Card>\n                    </Col>\n\n\n                </Row>\n            </Container>\n\n\n        </>\n    );\n}\n\nconst mapStateToProps = ({ sellerProduct }) => {\n    const { addedProfile, loading } = sellerProduct;\n\n\n    /* console.log(\"added profile ====>\", addedProfile) */\n    return { addedProfile, loading };\n\n\n};\n\nexport default connect(mapStateToProps, { profileAddedAction: profileAdded, getProfileAction: getProfile })(Profile)\n\n"]},"metadata":{},"sourceType":"module"}