{"ast":null,"code":"import React from'react';import{Formik,Form,Field}from'formik';import{Row,Card,CardTitle,FormGroup,Label,Col,Button}from'reactstrap';import{NavLink,useParams}from'react-router-dom';import\"./authorization.scss\";import{connect}from'react-redux';import{registerUser}from'../../redux/actions';import{NotificationManager}from'react-notifications';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(_ref){var history=_ref.history,registerUserAction=_ref.registerUserAction;var validatePassword=function validatePassword(value){var error;if(!value){error='Please enter your password';}else if(value.length<4){error='Value must be longer than 3 characters';}return error;};var validateConfirmPassword=function validateConfirmPassword(value){var error;if(!value){error='Please enter your password';}else if(value.length<4){error='Value must be longer than 3 characters';}return error;};var validateEmail=function validateEmail(value){var error;if(!value){error='Please enter your email address';}else if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)){error='Invalid email address';}return error;};var username=function username(value){var error;if(!value){error='Please enter your username';}else if(value.length<2){error='Value must be longer than 2 characters';}return error;};var onUserRegister=function onUserRegister(values,_ref2){var resetForm=_ref2.resetForm,setSubmitting=_ref2.setSubmitting;if(values.password!==values.confirm_password){NotificationManager.warning(\"Passwords do not match! please Enter again\");}else{registerUserAction(values,history);resetForm();setSubmitting(false);}};var _useParams=useParams(),role=_useParams.role;console.log(\"roles\",role);var initialValues={username:\"\",email:\"\",password:\"\",confirm_password:\"\",role:role};return/*#__PURE__*/_jsx(Row,{className:\"h-100\",style:{marginTop:\"50px\"},children:/*#__PURE__*/_jsx(Col,{xxs:\"12\",md:\"6\",className:\"mx-auto my-auto\",children:/*#__PURE__*/_jsxs(Card,{className:\"auth-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative image-side \",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white h2\",children:\"Scaffoldzoid\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"white mb-0\",children:[\"Please use this form to register. \",/*#__PURE__*/_jsx(\"br\",{}),\"If you are a member, please\",' ',/*#__PURE__*/_jsx(NavLink,{to:\"/login\",className:\"white\",children:\"login\"}),\".\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-side\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/\",className:\"white\",children:/*#__PURE__*/_jsx(\"span\",{className:\"logo-single\"})}),/*#__PURE__*/_jsx(CardTitle,{className:\"mb-5\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Register\"})}),/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,onSubmit:onUserRegister,children:function children(_ref3){var errors=_ref3.errors,touched=_ref3.touched,handleChange=_ref3.handleChange,values=_ref3.values,isSubmitting=_ref3.isSubmitting;return/*#__PURE__*/_jsxs(Form,{className:\"av-tooltip tooltip-label-bottom\",children:[/*#__PURE__*/_jsxs(FormGroup,{className:\"form-group has-float-label\",children:[/*#__PURE__*/_jsx(Label,{children:/*#__PURE__*/_jsx(\"span\",{children:\"Username\"})}),/*#__PURE__*/_jsx(Field,{className:\"form-control\",type:\"name\",name:\"username\",value:values.username,validate:username}),errors.username&&touched.username&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback d-block\",children:errors.username})]}),/*#__PURE__*/_jsxs(FormGroup,{className:\"form-group has-float-label\",children:[/*#__PURE__*/_jsx(Label,{children:/*#__PURE__*/_jsx(\"span\",{children:\"Email\"})}),/*#__PURE__*/_jsx(Field,{className:\"form-control\",type:\"email\",name:\"email\",value:values.email,validate:validateEmail}),errors.email&&touched.email&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback d-block\",children:errors.email})]}),/*#__PURE__*/_jsxs(FormGroup,{className:\"form-group has-float-label\",children:[/*#__PURE__*/_jsx(Label,{children:/*#__PURE__*/_jsx(\"span\",{children:\"Password\"})}),/*#__PURE__*/_jsx(Field,{className:\"form-control\",type:\"password\",name:\"password\",value:values.password,autoComplete:\"on\",validate:validatePassword}),errors.password&&touched.password&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback d-block\",children:errors.password})]}),/*#__PURE__*/_jsxs(FormGroup,{className:\"form-group has-float-label\",children:[/*#__PURE__*/_jsx(Label,{children:/*#__PURE__*/_jsx(\"span\",{children:\"Confirm Password\"})}),/*#__PURE__*/_jsx(Field,{className:\"form-control\",type:\"password\",name:\"confirm_password\",value:values.confirm_password,autoComplete:\"on\",validate:validateConfirmPassword}),errors.password&&touched.password&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback d-block\",children:errors.password})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/login\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Already have an Account? Login\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end align-items-center\",children:/*#__PURE__*/_jsx(Button,{color:\"primary\",className:\"btn-shadow\",size:\"lg\",type:\"submit\",children:isSubmitting?\"loading\":\"Register\"})})]});}})]})]})})});};var mapStateToProps=function mapStateToProps(_ref4){var authUser=_ref4.authUser;var loading=authUser.loading,error=authUser.error,currentUser=authUser.currentUser;/* console.log(\"current user\", currentUser) */return{loading:loading,error:error};};export default connect(mapStateToProps,{registerUserAction:registerUser})(Register);","map":{"version":3,"sources":["/Users/zibranshaikh/Downloads/scaffoldzoid/frontend/src/pages/authentication/register.js"],"names":["React","Formik","Form","Field","Row","Card","CardTitle","FormGroup","Label","Col","Button","NavLink","useParams","connect","registerUser","NotificationManager","Register","history","registerUserAction","validatePassword","value","error","length","validateConfirmPassword","validateEmail","test","username","onUserRegister","values","resetForm","setSubmitting","password","confirm_password","warning","role","console","log","initialValues","email","marginTop","errors","touched","handleChange","isSubmitting","mapStateToProps","authUser","loading","currentUser"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Formik, Form, Field } from 'formik';\n\nimport {\n    Row,\n    Card,\n    CardTitle,\n    FormGroup,\n    Label,\n    Col,\n    Button,\n} from 'reactstrap';\nimport { NavLink , useParams} from 'react-router-dom';\nimport \"./authorization.scss\"\nimport { connect } from 'react-redux';\nimport { registerUser } from '../../redux/actions';\nimport { NotificationManager } from 'react-notifications';\n\n\n\nconst Register = ({ history, registerUserAction }) => {\n\n\n    const validatePassword = (value) => {\n        let error;\n        if (!value) {\n            error = 'Please enter your password';\n        } else if (value.length < 4) {\n            error = 'Value must be longer than 3 characters';\n        }\n        return error;\n    };\n    const validateConfirmPassword = (value) => {\n        let error;\n        if (!value) {\n            error = 'Please enter your password';\n        } else if (value.length < 4) {\n            error = 'Value must be longer than 3 characters';\n        }\n        return error;\n    };\n\n    const validateEmail = (value) => {\n        let error;\n        if (!value) {\n            error = 'Please enter your email address';\n        } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)) {\n            error = 'Invalid email address';\n        }\n        return error;\n    };\n\n    const username = (value) => {\n        let error;\n        if (!value) {\n            error = 'Please enter your username';\n        } else if (value.length < 2) {\n            error = 'Value must be longer than 2 characters';\n        }\n        return error;\n    };\n\n\n    const onUserRegister = (values, { resetForm, setSubmitting }) => {\n        if (values.password !== values.confirm_password) {\n            NotificationManager.warning(\"Passwords do not match! please Enter again\")\n\n        }else{\n            registerUserAction(values, history)\n            resetForm()\n            setSubmitting(false);\n        }\n\n    };\n\n    const {role} = useParams();\n    console.log(\"roles\", role)\n    const initialValues = {\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        confirm_password: \"\",\n        role: role\n    };\n    return (\n        <Row className=\"h-100\" style={{marginTop:\"50px\"}}>\n            <Col xxs=\"12\" md=\"6\" className=\"mx-auto my-auto\">\n                <Card className=\"auth-card\">\n                    <div className=\"position-relative image-side \">\n                        <p className=\"text-white h2\">Scaffoldzoid</p>\n                        <p className=\"white mb-0\">\n                            Please use this form to register. <br />\n              If you are a member, please{' '}\n                            <NavLink to=\"/login\" className=\"white\">\n                                login\n              </NavLink>\n              .\n            </p>\n                    </div>\n                    <div className=\"form-side\">\n                        <NavLink to=\"/\" className=\"white\">\n                            <span className=\"logo-single\" />\n                        </NavLink>\n                        <CardTitle className=\"mb-5\">\n                            <span>Register</span>\n                           \n                        </CardTitle>\n                        <Formik initialValues={initialValues} onSubmit={onUserRegister}>\n                            {({ errors, touched, handleChange, values, isSubmitting }) => (\n                                <Form className=\"av-tooltip tooltip-label-bottom\">\n                                    <FormGroup className=\"form-group has-float-label\">\n                                        <Label>\n                                        <span>Username</span>\n                                        </Label>\n                                        <Field className=\"form-control\" type=\"name\" name=\"username\" value={values.username} validate={username} />\n                                        {errors.username && touched.username && (\n                                            <div className=\"invalid-feedback d-block\">\n                                                {errors.username}\n                                            </div>\n                                        )}\n                                    </FormGroup>\n\n\n\n                                    <FormGroup className=\"form-group has-float-label\">\n                                        <Label>\n                                        <span>Email</span>\n                                        </Label>\n                                        <Field className=\"form-control\" type=\"email\" name=\"email\" value={values.email} validate={validateEmail} />\n                                        {errors.email && touched.email && (\n                                            <div className=\"invalid-feedback d-block\">\n                                                {errors.email}\n                                            </div>\n                                        )}\n                                    </FormGroup>\n\n                                    <FormGroup className=\"form-group has-float-label\">\n                                        <Label>\n                                        <span>Password</span>\n                                        </Label>\n                                        <Field className=\"form-control\" type=\"password\" name=\"password\" value={values.password} autoComplete=\"on\" validate={validatePassword} />\n                                        {errors.password && touched.password && (\n                                            <div className=\"invalid-feedback d-block\">\n                                                {errors.password}\n                                            </div>\n                                        )}\n                                    </FormGroup>\n                                    <FormGroup className=\"form-group has-float-label\">\n                                        <Label>\n                                        <span>Confirm Password</span>\n                                        </Label>\n                                        <Field className=\"form-control\" type=\"password\" name=\"confirm_password\" value={values.confirm_password} autoComplete=\"on\" validate={validateConfirmPassword} />\n                                        {errors.password && touched.password && (\n                                            <div className=\"invalid-feedback d-block\">\n                                                {errors.password}\n                                            </div>\n                                        )}\n                                    </FormGroup>\n                                    <div className=\"d-flex justify-content-between align-items-center\">\n                                        <NavLink to=\"/login\">\n                                            <span>Already have an Account? Login</span>\n                                        </NavLink>\n                                    </div>\n                                    <div className=\"d-flex justify-content-end align-items-center\">\n\n                                        <Button\n                                            color=\"primary\"\n                                            className=\"btn-shadow\"\n                                            size=\"lg\"\n                                            type=\"submit\"\n                                        >\n                                            {isSubmitting ? \"loading\" : \"Register\"}\n                                        </Button>\n                                    </div>\n                                </Form>\n                            )}\n                        </Formik>\n                    </div>\n                </Card>\n            </Col>\n        </Row>\n    );\n};\n\nconst mapStateToProps = ({ authUser }) => { \n  const { loading, error,currentUser } = authUser;\n  /* console.log(\"current user\", currentUser) */\n  \n  return { loading, error };\n};\n\nexport default (connect(mapStateToProps, {\n  registerUserAction: registerUser,\n}))(Register);\n"]},"metadata":{},"sourceType":"module"}