{"ast":null,"code":"import { all, call, fork, put, takeEvery } from 'redux-saga/effects';\nimport axios from \"axios\";\nimport { NotificationManager } from 'react-notifications';\nimport { PRODUCT_ADD, ALL_PRODUCT, SELECTED_PRODUCT, PRODUCT_UPDATE } from \"../actions\";\nimport { productAddSuccess, productAddError, allProductsSuccess, allProductsError, getSelectedProductSuccess, getSelectedProductError, productUpdateSuccess, productUpdateError } from \"./actions\";\nimport { getCurrentUser } from '../../helpers/Utils';\nimport { API_URL } from \"../../apiUrl\";\nexport function* watchAddedProduct() {\n  yield takeEvery(PRODUCT_ADD, AddedProductDetails);\n}\n\nconst AddedProductDetailsAsync = async data => {\n  await axios.post(`${API_URL}/seller/product-add`, data).then(product => {\n    console.log(\"added product\", product);\n\n    if (product.status === 200) {\n      NotificationManager.success(product.data.message);\n    } else if (product.status === 206) {\n      NotificationManager.warning(product.data.message);\n    }\n  }).catch(error => NotificationManager.warning(error));\n};\n\n_c = AddedProductDetailsAsync;\n\nfunction* AddedProductDetails({\n  payload\n}) {\n  console.log(\"payload\", payload.product);\n  const {\n    name,\n    rate\n  } = payload.product;\n  const user_id = getCurrentUser().id;\n\n  try {\n    const data = {\n      user_id,\n      name,\n      rate\n    };\n    const addedproducts = yield call(AddedProductDetailsAsync, data);\n    console.log(\"addedproducts\", addedproducts);\n    yield put(productAddSuccess(addedproducts.data.data));\n  } catch (e) {\n    yield put(productAddError(e));\n    /* console.log(\"e\", e) */\n  }\n}\n\n_c2 = AddedProductDetails;\nexport function* watchAllProducts() {\n  yield takeEvery(ALL_PRODUCT, AllProductsDetails);\n}\n\nfunction* AllProductsDetails({\n  payload\n}) {\n  try {\n    const url = `${API_URL}/seller/product/all/${payload.user_id}`;\n    const products = yield call(() => axios.get(url));\n    console.log(products, \"response\");\n\n    if (products.status === 200) {\n      yield put(allProductsSuccess(products.data.data));\n    } else if (products.status === 206) {\n      yield put(allProductsError(products.data.message));\n    }\n  } catch (e) {\n    console.log(\"e\", e);\n  }\n}\n\n_c3 = AllProductsDetails;\nexport function* watchSelectedProducts() {\n  yield takeEvery(SELECTED_PRODUCT, SelectedProductsDetails);\n}\n\nfunction* SelectedProductsDetails({\n  payload\n}) {\n  try {\n    const url = `${API_URL}/seller/product/${payload.id}`;\n    const product = yield call(() => axios.get(url));\n    console.log(product, \"selected product\");\n\n    if (product.status === 200) {\n      yield put(getSelectedProductSuccess(product.data.data));\n    } else if (product.status === 206) {\n      yield put(getSelectedProductError(product.data.message));\n    }\n  } catch (e) {\n    console.log(\"e\", e);\n  }\n}\n\n_c4 = SelectedProductsDetails;\nexport function* watchProductUpdate() {\n  yield takeEvery(PRODUCT_UPDATE, ProductUpdateDetails);\n}\n\nconst ProductUpdateDetailsAsync = async data => {\n  await axios.post(`${API_URL}/seller/product-update`, data).then(product => {\n    console.log(\"product updated\", product);\n\n    if (product.status === 200) {\n      NotificationManager.success(product.data.message);\n    } else if (product.status === 206) {\n      NotificationManager.warning(product.data.message);\n    }\n  }).catch(error => NotificationManager.warning(error));\n};\n\n_c5 = ProductUpdateDetailsAsync;\n\nfunction* ProductUpdateDetails({\n  payload\n}) {\n  const {\n    id,\n    user_id,\n    name,\n    rate\n  } = payload.product;\n\n  try {\n    const data = {\n      id,\n      user_id,\n      name,\n      rate\n    };\n    const updatedProduct = yield call(ProductUpdateDetailsAsync, data);\n    console.log(\"updated data\", updatedProduct);\n    yield put(productUpdateSuccess(updatedProduct.data.data));\n  } catch (e) {\n    yield put(productUpdateError(e));\n  }\n}\n\n_c6 = ProductUpdateDetails;\nexport default function* rootSaga() {\n  yield all([fork(watchAddedProduct), fork(watchAllProducts), fork(watchSelectedProducts), fork(watchProductUpdate)]);\n}\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"AddedProductDetailsAsync\");\n$RefreshReg$(_c2, \"AddedProductDetails\");\n$RefreshReg$(_c3, \"AllProductsDetails\");\n$RefreshReg$(_c4, \"SelectedProductsDetails\");\n$RefreshReg$(_c5, \"ProductUpdateDetailsAsync\");\n$RefreshReg$(_c6, \"ProductUpdateDetails\");","map":{"version":3,"sources":["/Users/zibranshaikh/Downloads/scaffoldzoid/frontend/src/redux/product/saga.js"],"names":["all","call","fork","put","takeEvery","axios","NotificationManager","PRODUCT_ADD","ALL_PRODUCT","SELECTED_PRODUCT","PRODUCT_UPDATE","productAddSuccess","productAddError","allProductsSuccess","allProductsError","getSelectedProductSuccess","getSelectedProductError","productUpdateSuccess","productUpdateError","getCurrentUser","API_URL","watchAddedProduct","AddedProductDetails","AddedProductDetailsAsync","data","post","then","product","console","log","status","success","message","warning","catch","error","payload","name","rate","user_id","id","addedproducts","e","watchAllProducts","AllProductsDetails","url","products","get","watchSelectedProducts","SelectedProductsDetails","watchProductUpdate","ProductUpdateDetails","ProductUpdateDetailsAsync","updatedProduct","rootSaga"],"mappings":"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","sourcesContent":["import { all, call, fork, put, takeEvery } from 'redux-saga/effects';\nimport axios from \"axios\";\nimport { NotificationManager } from 'react-notifications';\n\nimport {\n    PRODUCT_ADD,\n    ALL_PRODUCT,\n    SELECTED_PRODUCT,\n    PRODUCT_UPDATE,\n\n\n}\n    from \"../actions\"\n\nimport {\n    productAddSuccess,\n    productAddError,\n    allProductsSuccess,\n    allProductsError,\n    getSelectedProductSuccess,\n    getSelectedProductError,\n    productUpdateSuccess,\n    productUpdateError\n}\n    from \"./actions\"\n\nimport { getCurrentUser } from '../../helpers/Utils';\nimport { API_URL } from \"../../apiUrl\"\n\n\nexport function* watchAddedProduct() {\n    yield takeEvery(PRODUCT_ADD, AddedProductDetails);\n}\n\nconst AddedProductDetailsAsync = async (data) => {\n\n    await axios.post(`${API_URL}/seller/product-add`, data)\n\n        .then((product) => {\n            console.log(\"added product\", product)\n            if (product.status === 200) {\n\n                NotificationManager.success(product.data.message);\n\n            } else if (product.status === 206) {\n\n                NotificationManager.warning(product.data.message);\n            }\n        })\n        .catch((error) => NotificationManager.warning(error));\n}\n\n\n\n\n\nfunction* AddedProductDetails({ payload }) {\n    console.log(\"payload\", payload.product)\n    const {\n        name,\n        rate,\n\n    } = payload.product\n\n\n    const user_id = getCurrentUser().id\n\n    try {\n        const data = {\n            user_id, name, rate\n        }\n\n        const addedproducts = yield call(AddedProductDetailsAsync, data);\n\n\n        console.log(\"addedproducts\", addedproducts)\n        yield put(productAddSuccess(addedproducts.data.data));\n    } catch (e) {\n        yield put(productAddError(e))\n        /* console.log(\"e\", e) */\n    }\n\n}\n\nexport function* watchAllProducts() {\n\n    yield takeEvery(ALL_PRODUCT, AllProductsDetails);\n}\n\n\nfunction* AllProductsDetails({ payload }) {\n    try {\n        const url = `${API_URL}/seller/product/all/${payload.user_id}`;\n        const products = yield call(() => axios.get(url))\n\n        console.log(products, \"response\");\n        if (products.status === 200) {\n\n            yield put(allProductsSuccess(products.data.data))\n\n\n\n        } else if (products.status === 206) {\n            yield put(allProductsError(products.data.message))\n\n        }\n\n    }\n    catch (e) {\n        console.log(\"e\", e)\n\n    }\n\n}\n\n\n\n\n\nexport function* watchSelectedProducts() {\n\n    yield takeEvery(SELECTED_PRODUCT, SelectedProductsDetails);\n}\n\n\nfunction* SelectedProductsDetails({ payload }) {\n\n    try {\n        const url = `${API_URL}/seller/product/${payload.id}`;\n        const product = yield call(() => axios.get(url))\n\n        console.log(product, \"selected product\");\n        if (product.status === 200) {\n\n            yield put(getSelectedProductSuccess(product.data.data))\n\n\n\n        } else if (product.status === 206) {\n            yield put(getSelectedProductError(product.data.message))\n\n        }\n\n    }\n    catch (e) {\n        console.log(\"e\", e)\n\n    }\n\n}\n\nexport function* watchProductUpdate() {\n    yield takeEvery(PRODUCT_UPDATE, ProductUpdateDetails);\n}\n\nconst ProductUpdateDetailsAsync = async (data) => {\n\n    await axios.post(`${API_URL}/seller/product-update`, data)\n\n        .then((product) => {\n            console.log(\"product updated\", product)\n            if (product.status === 200) {\n\n                NotificationManager.success(product.data.message);\n\n            } else if (product.status === 206) {\n\n                NotificationManager.warning(product.data.message);\n            }\n        })\n        .catch((error) => NotificationManager.warning(error));\n}\n\n\n\n\n\nfunction* ProductUpdateDetails({ payload }) {\n\n    const {\n        id,\n        user_id,\n        name,\n        rate,\n\n    } = payload.product\n\n    try {\n        const data = {\n            id, user_id, name, rate\n        }\n\n        const updatedProduct = yield call(ProductUpdateDetailsAsync, data);\n\n\n        console.log(\"updated data\", updatedProduct)\n        yield put(productUpdateSuccess(updatedProduct.data.data));\n    } catch (e) {\n        yield put(productUpdateError(e))\n\n    }\n\n}\n\n\n\nexport default function* rootSaga() {\n    yield all([\n        fork(watchAddedProduct),\n        fork(watchAllProducts),\n        fork(watchSelectedProducts),\n        fork(watchProductUpdate)\n\n\n    ]);\n}\n"]},"metadata":{},"sourceType":"module"}