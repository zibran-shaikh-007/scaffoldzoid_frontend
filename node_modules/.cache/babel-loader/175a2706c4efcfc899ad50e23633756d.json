{"ast":null,"code":"import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { GetOption } from '../GetOption';\nimport { ResolveLocale } from '../ResolveLocale';\nimport { invariant } from '../utils';\nimport { CoerceOptionsToObject } from '../CoerceOptionsToObject';\nvar NUMBERING_SYSTEM_REGEX = /^[a-z0-9]{3,8}(-[a-z0-9]{3,8})*$/i;\nexport function InitializeRelativeTimeFormat(rtf, locales, options, _a) {\n  var getInternalSlots = _a.getInternalSlots,\n      availableLocales = _a.availableLocales,\n      relevantExtensionKeys = _a.relevantExtensionKeys,\n      localeData = _a.localeData,\n      getDefaultLocale = _a.getDefaultLocale;\n  var internalSlots = getInternalSlots(rtf);\n  internalSlots.initializedRelativeTimeFormat = true;\n  var requestedLocales = CanonicalizeLocaleList(locales);\n  var opt = Object.create(null);\n  var opts = CoerceOptionsToObject(options);\n  var matcher = GetOption(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n  opt.localeMatcher = matcher;\n  var numberingSystem = GetOption(opts, // @ts-expect-error TS option is wack\n  'numberingSystem', 'string', undefined, undefined);\n\n  if (numberingSystem !== undefined) {\n    if (!NUMBERING_SYSTEM_REGEX.test(numberingSystem)) {\n      throw new RangeError(\"Invalid numbering system \" + numberingSystem);\n    }\n  }\n\n  opt.nu = numberingSystem;\n  var r = ResolveLocale(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n  var locale = r.locale,\n      nu = r.nu;\n  internalSlots.locale = locale;\n  internalSlots.style = GetOption(opts, 'style', 'string', ['long', 'narrow', 'short'], 'long');\n  internalSlots.numeric = GetOption(opts, 'numeric', 'string', ['always', 'auto'], 'always');\n  var fields = localeData[r.dataLocale];\n  invariant(!!fields, \"Missing locale data for \" + r.dataLocale);\n  internalSlots.fields = fields;\n  internalSlots.numberFormat = new Intl.NumberFormat(locales);\n  internalSlots.pluralRules = new Intl.PluralRules(locales);\n  internalSlots.numberingSystem = nu;\n  return rtf;\n}","map":{"version":3,"sources":["/Users/zibranshaikh/Downloads/scaffoldzoid/frontend/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/InitializeRelativeTimeFormat.js"],"names":["CanonicalizeLocaleList","GetOption","ResolveLocale","invariant","CoerceOptionsToObject","NUMBERING_SYSTEM_REGEX","InitializeRelativeTimeFormat","rtf","locales","options","_a","getInternalSlots","availableLocales","relevantExtensionKeys","localeData","getDefaultLocale","internalSlots","initializedRelativeTimeFormat","requestedLocales","opt","Object","create","opts","matcher","localeMatcher","numberingSystem","undefined","test","RangeError","nu","r","locale","style","numeric","fields","dataLocale","numberFormat","Intl","NumberFormat","pluralRules","PluralRules"],"mappings":"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","sourcesContent":["import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { GetOption } from '../GetOption';\nimport { ResolveLocale } from '../ResolveLocale';\nimport { invariant } from '../utils';\nimport { CoerceOptionsToObject } from '../CoerceOptionsToObject';\nvar NUMBERING_SYSTEM_REGEX = /^[a-z0-9]{3,8}(-[a-z0-9]{3,8})*$/i;\nexport function InitializeRelativeTimeFormat(rtf, locales, options, _a) {\n    var getInternalSlots = _a.getInternalSlots, availableLocales = _a.availableLocales, relevantExtensionKeys = _a.relevantExtensionKeys, localeData = _a.localeData, getDefaultLocale = _a.getDefaultLocale;\n    var internalSlots = getInternalSlots(rtf);\n    internalSlots.initializedRelativeTimeFormat = true;\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var opt = Object.create(null);\n    var opts = CoerceOptionsToObject(options);\n    var matcher = GetOption(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n    opt.localeMatcher = matcher;\n    var numberingSystem = GetOption(opts, \n    // @ts-expect-error TS option is wack\n    'numberingSystem', 'string', undefined, undefined);\n    if (numberingSystem !== undefined) {\n        if (!NUMBERING_SYSTEM_REGEX.test(numberingSystem)) {\n            throw new RangeError(\"Invalid numbering system \" + numberingSystem);\n        }\n    }\n    opt.nu = numberingSystem;\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n    var locale = r.locale, nu = r.nu;\n    internalSlots.locale = locale;\n    internalSlots.style = GetOption(opts, 'style', 'string', ['long', 'narrow', 'short'], 'long');\n    internalSlots.numeric = GetOption(opts, 'numeric', 'string', ['always', 'auto'], 'always');\n    var fields = localeData[r.dataLocale];\n    invariant(!!fields, \"Missing locale data for \" + r.dataLocale);\n    internalSlots.fields = fields;\n    internalSlots.numberFormat = new Intl.NumberFormat(locales);\n    internalSlots.pluralRules = new Intl.PluralRules(locales);\n    internalSlots.numberingSystem = nu;\n    return rtf;\n}\n"]},"metadata":{},"sourceType":"module"}